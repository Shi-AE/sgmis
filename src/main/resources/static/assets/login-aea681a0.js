import{_ as d,o as c,c as n,p,a as v,b as s,d as b,s as i,w as l,v as m,e as g,f as u,g as x}from"./index-87c3fdd7.js";const w={},f=t=>(p("data-v-e039c37e"),t=t(),v(),t),y={class:"text"},M=f(()=>s("h1",null,"赛鸽云库",-1)),$=f(()=>s("h2",null,"Sai Ge MIS",-1)),S=[M,$];function I(t,e){return c(),n("div",y,S)}const T=d(w,[["render",I],["__scopeId","data-v-e039c37e"]]);const V={data(){return{formMess:{account:"",password:""}}},methods:{submit(){b({method:"POST",url:"/login/authority",data:this.formMess,message:"正在验证登录信息"}).then(t=>{t.data.code===201?(console.log(t.data.data),this.$notification.success(t.data.message),i.commit("setToken",t.data.data.token),i.commit("setAccount",this.formMess.account),i.commit("setAdmin",t.data.data.admin),this.$router.push({name:"home"})):this.$notification.error(t.data.message),this.formMess.account="",this.formMess.password=""})}}},r=t=>(p("data-v-790baa69"),t=t(),v(),t),k={class:"login-form"},B={class:"form-floating mb-3"},N=r(()=>s("label",{for:"account"},"账号",-1)),q={class:"form-floating mb-3"},z=r(()=>s("label",{for:"password"},"密码",-1)),A=r(()=>s("input",{type:"submit",class:"btn btn-primary",value:"登录"},null,-1));function F(t,e,h,O,a,_){return c(),n("div",k,[s("form",{onSubmit:e[2]||(e[2]=g((...o)=>_.submit&&_.submit(...o),["prevent"]))},[s("div",B,[l(s("input",{type:"text",class:"form-control",placeholder:"name@example.com","onUpdate:modelValue":e[0]||(e[0]=o=>a.formMess.account=o),required:""},null,512),[[m,a.formMess.account,void 0,{lazy:!0}]]),N]),s("div",q,[l(s("input",{type:"password",class:"form-control",placeholder:"name@example.com","onUpdate:modelValue":e[1]||(e[1]=o=>a.formMess.password=o),required:""},null,512),[[m,a.formMess.password,void 0,{lazy:!0}]]),z]),A],32)])}const U=d(V,[["render",F],["__scopeId","data-v-790baa69"]]);const D={class:"login"},E=x('<div class="bird-container bird-container--one" data-v-99593c09><div class="bird bird--one" data-v-99593c09></div></div><div class="bird-container bird-container--two" data-v-99593c09><div class="bird bird--two" data-v-99593c09></div></div><div class="bird-container bird-container--three" data-v-99593c09><div class="bird bird--three" data-v-99593c09></div></div><div class="bird-container bird-container--four" data-v-99593c09><div class="bird bird--four" data-v-99593c09></div></div>',4),G={__name:"login",setup(t){return(e,h)=>(c(),n("div",D,[u(T),u(U),E]))}},j=d(G,[["__scopeId","data-v-99593c09"]]);export{j as default};

import{_ as g,d as f,N as v,r as s,o as M,c as L,f as o,t as n,C as p,p as S,a as U,b as N}from"./index-87c3fdd7.js";const m={provincial:{value:"provincial",isLeaf:!1,next:"urban"},urban:{value:"urban",isLeaf:!1,next:"area"},area:{value:"area",isLeaf:!0}},T={data(){return{info:{name:"",years:void 0,location:[],address:"",bloodline:"",performance:""},options:[]}},methods:{submit(){const{location:t,...e}=this.info;f({method:"POST",url:"gsxx",data:{...e,location:t.length===0?null:t.join(",")},message:"正在上传信息"}).then(a=>{a.data.code===200?v.success(a.data.message):v.error(a.data.message)})},loadMore(t,e){let a=m[t.level].next;f({method:"GET",url:`${m[a].value}/${t.id}`,message:"正在获取地址信息"}).then(u=>{u.data.code===200&&e(u.data.data.map(l=>({...l,level:m[a].value,isLeaf:m[a].isLeaf})))})}},mounted(){f({method:"GET",url:"gsxx"}).then(e=>{if(e.data.code===200){const{location:a,...u}=e.data.data;this.info={...u,location:a===null?[]:a.split(",")}}});const t="provincial";f({method:"GET",url:`${m[t].value}`,message:"正在获取地址信息"}).then(e=>{e.data.code===200&&(this.options=e.data.data.map(a=>({...a,level:m[t].value,isLeaf:m[t].isLeaf})))})}},w=t=>(S("data-v-4cfa1a69"),t=t(),U(),t),C={class:"full-screen d-flex align-items-center flex-column"},E=w(()=>N("div",{class:"title fs-1"},"鸽舍信息",-1));function I(t,e,a,u,l,c){const i=s("a-divider"),_=s("a-input"),r=s("a-form-item"),x=s("a-cascader"),V=s("a-input-number"),b=s("a-textarea"),y=s("a-button"),h=s("a-space"),z=s("a-form");return M(),L("div",C,[E,o(i,{size:2,style:{"border-bottom-style":"dotted"},orientation:"left"},{default:n(()=>[p("信息")]),_:1}),o(z,{ref:"formRef",model:l.info,onSubmit:c.submit,size:"large",layout:"horizontal","auto-label-width":!0},{default:n(()=>[o(r,{field:"name",tooltip:"你的鸽舍名称",label:"鸽舍名称"},{default:n(()=>[o(_,{modelValue:l.info.name,"onUpdate:modelValue":e[0]||(e[0]=d=>l.info.name=d),modelModifiers:{lazy:!0},placeholder:"鸽舍名称"},null,8,["modelValue"])]),_:1}),o(i,{size:2,style:{"border-bottom-style":"dotted"}}),o(r,{field:"location",label:"地址"},{default:n(()=>[o(x,{modelValue:l.info.location,"onUpdate:modelValue":e[1]||(e[1]=d=>l.info.location=d),modelModifiers:{lazy:!0},options:l.options,placeholder:"地址","allow-clear":"","path-mode":"","load-more":c.loadMore},null,8,["modelValue","options","load-more"])]),_:1}),o(i,{size:2,style:{"border-bottom-style":"dotted"}}),o(r,{field:"address",tooltip:"具体地址信息，方便他人联系你",label:"具体地址"},{default:n(()=>[o(_,{modelValue:l.info.address,"onUpdate:modelValue":e[2]||(e[2]=d=>l.info.address=d),modelModifiers:{lazy:!0},placeholder:"具体地址"},null,8,["modelValue"])]),_:1}),o(i,{size:2,style:{"border-bottom-style":"dotted"}}),o(r,{field:"years",label:"养鸽年数"},{default:n(()=>[o(V,{modelValue:l.info.years,"onUpdate:modelValue":e[3]||(e[3]=d=>l.info.years=d),modelModifiers:{lazy:!0,number:!0},placeholder:"养鸽年数",min:0,max:100},null,8,["modelValue"])]),_:1}),o(i,{size:2,style:{"border-bottom-style":"dotted"}}),o(r,{field:"bloodLine",label:"主养血系"},{default:n(()=>[o(b,{modelValue:l.info.bloodline,"onUpdate:modelValue":e[4]||(e[4]=d=>l.info.bloodline=d),modelModifiers:{lazy:!0},placeholder:"主养血系"},null,8,["modelValue"])]),_:1}),o(i,{size:2,style:{"border-bottom-style":"dotted"}}),o(r,{field:"performance",label:"优秀赛绩"},{default:n(()=>[o(b,{modelValue:l.info.performance,"onUpdate:modelValue":e[5]||(e[5]=d=>l.info.performance=d),modelModifiers:{lazy:!0},placeholder:"优秀赛绩"},null,8,["modelValue"])]),_:1}),o(i,{size:2,style:{"border-bottom-style":"dotted"},orientation:"left"},{default:n(()=>[p("操作")]),_:1}),o(r,null,{default:n(()=>[o(h,null,{default:n(()=>[o(y,{type:"primary","html-type":"submit"},{default:n(()=>[p("保存")]),_:1}),o(y,{onClick:e[6]||(e[6]=d=>t.$refs.formRef.resetFields())},{default:n(()=>[p("重置")]),_:1})]),_:1})]),_:1})]),_:1},8,["model","onSubmit"])])}const B=g(T,[["render",I],["__scopeId","data-v-4cfa1a69"]]);export{B as default};
